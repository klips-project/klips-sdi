<!doctype html>
<html lang="de">

<head>
    <meta charset="utf-8">
    <a href="http://www.klips-projekt.de/" title="klips-dashboard"><img src="./img/SAG_KLIPS-Logo_Jan21.png"
            alt="terrestris logo"></a>
    <link rel="stylesheet" href="index.css">
    <link rel="icon" type="image/svg+xml" href="./img/terrestris.svg">

    <meta name="description" content="Klips Dashboard">
    <meta name="author" content="terrestris GmbH &amp; Co. KG">

    <meta property="og:title" content="Klips Dashboard">
    <meta property="og:url" content="https://klips-project.github.io/klips-sdi/easy-to-use-api/klips-dashboard/">
    <meta property="og:description" content="Klips Dashboard">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <h2 class="title" href="https://klips-dev.terrestris.de/easy-to-use-api/url-generator/">URL-Generator</h2>
    <a class="description">Der URL-Generator bietet eine Oberfläche um URL's für verschiedene Widgets zu generieren.
        Dazu muss zunächst die Region, für die das Widget erstellt werden soll, ausgewählt werden.
        Durch die Auswahl einer vordefinierten Region passt sich der Fokus der Karte auf den Begrenzungsbereich
        dynamisch an.
        Über die Suchfunktion können Ortsnamen, Straßennamen oder POI's innerhalb der ausgewählten Region gezielt
        angewählt werden.
        Anschließend können abhängig von der ausgewählten API weitere Parameter gewählt werden, um diese individuell zu
        konfigurieren. </a>
    <iframe id="inlineFrameExample" title="URL-Generator" width="90%" height="700px"
        src="https://klips-dev.terrestris.de/easy-to-use-api/url-generator/">
    </iframe>
    <br />
    <a class="description">In Abhängigkeit zu dem gewüschten Widget werden folgende zusätzliche Parameter abgefragt:</a>
    <h2>Chart</h2>
    <a class="description">Die Buttons "Punkt" und "Polygon" ermöglichen es innerhalb des Begrenzungsbereichs eine Punkt
        oder Flächen-Geometrie
        einzuzeichnen, für die ein Temperaturchart generiert werden soll. In einem weiteren Schritt kann das Band
        ausgewählt werden, auf dessen Grundlage die Berechnung erfolgt und das in der Abbildung angezeigt wird.
        Nach der Generierung kann in der Chart-Darstellung selbst beliebig zwischen den Bändern gewechselt werden.
        Hier gibt es folgende Möglichkeiten:</a>
    <ol>
        <li>Physikalische Temperatur: Die physikalische Temperatur, errechnet aus gemessenen Temperatur-Werten der
            Sensoren.</li>
        <li> Gefühlte Temleratur: Die gefühlte Temperatur, errechnet durch einbeziehen zusätzlicher Parameter.</li>
        <li>Temperaturdifferenz: Differenz der gemessenen Temperaturen am ausgewählten Standort zu Referenzsensoren im
            Umland.</li>
        <li>Vergleich: Hier wird die physikalische Temperatur im Vergleich zu einem beliebigen anderen Band dargestellt.
        </li>
    </ol>
    <a class="description"> Abschließend kann ein Temperaturgrenzwert für
        eine Warnung definiert werden.</a><br />
    <a class="description">Sobald eine Geometrie eingezeichnet wird, wird diese auch als geoJSON in einem Textfeld
        ausgegeben
        und kann einfach über den CopyToClipboard-Button in die Zwischenablage kopiert werden.</a><br />
    <a class="description">Insgesamt können vier verschiedene Bänder angesprochen werden:</a><br />
    <ol>
        <li>Physikalische Temperatur</li>
        <li>Gefühlte Temperatur</li>
        <li>Temperatur Differenz</li>
        <li>Vergleich</li>
    </ol>
    <a class="description">ToDo: Einzlne Bänder beschreiben</a><br />
    <a class="description">Für das Grenzwerte-Eingabefeld sind nur numerische Werte zwischen 0 und 50 zulässig. Werte
        außerhalb dieses Bereichs werden zurückgesetzt. </a><br />
    <a class="description">Nachdem alle erforderlichen Parameter eingetragen wurden, erscheint die URL. Diese kann
        entweder
        in der Zwischenablage gespeichert werden, per Mail versendet werden oder in einem neuen Tab geöffnet
        werden.</a><br />
    <a class="description">Zusätzlich wird auch ein IFrame-Codebeispiel bereit gestellt, welches einfach in jede 
        html-Website eingebunden werden kann.</a><br />
    <h3>Beispiel:</h3>
    <a class="description">In diesem Beispiel wird die Region Dresden ausgewählt und anhand der Suchfunktion nach
        dem Krankenhaus <i>St. Joseph-Stift</i> gesucht.
        Anschließend setze ich einen Geometrie-Punkt mit den folgenden Koorinaten:</a>
    <pre><code>
    {
      "type":"Point",
      "coordinates":[
        13.761238060503882,
        51.04731292751711
        ]
    }
    </code></pre>
    <a class="description">Ich wähle das Band <i>gefühlte Temperatur</i> und definiere einen Grenzwert von <i>25</i>°C.
        Daraus wird fie folgende URL generiert:</a><br />
    <a href="https://klips-dev.terrestris.de/easy-to-use-api/chart/?region=dresden&geom=POINT(13.761238060503882 
        51.04731292751711)&threshold=25&band=perceived">
        https://klips-dev.terrestris.de/easy-to-use-api/chart/?region=dresden&geom=POINT(13.761238060503882
        51.04731292751711)&threshold=25&band=perceived</a><br />
    <a class="description">Die URL kann als Iframe in jeder html-Website eingebaut werden:</a><br />
    <iframe id="inlineFrameExample" title="URL-Generator" width="800px" height="500px" src="https://klips-dev.terrestris.de/easy-to-use-api/chart/?region=dresden&geom=POINT(13.761238060503882 
        51.04731292751711)&threshold=25&band=perceived">
    </iframe><br />
    <a class="description">Dazu muss lediglich die generierte URL als src-Parameter in einem <b>Iframe</b> verwendet werden:</a><br />
    <pre><code>&lt;iframe id=&quot;inlineFrameExample&quot; title=&quot;URL-Generator&quot; width=&quot;800px&quot; height=&quot;500px&quot;
        src=&quot;https://klips-dev.terrestris.de/easy-to-use-api/chart/?region=dresden&amp;geom=POINT(13.761238060503882 51.04731292751711)&amp;threshold=25&amp;band=perceived&quot;&gt;
    &lt;/iframe&gt;</code></pre>
    <a class="description">Alternativ kann auch einfach das Codebeispiel aus dem URL-Generator direkt kopiert und genutzt werden.</a><br />


    <h2>Video</h2>
    <a class="description">Durch Aufruf einer URL wird eine HTML-Seite erzeugt, die einen Videoplayer mit Timelapse
        Video des Temperaturverlaufs der vergangenen und zukünftigen 48h zeigt. Die Geometrie kann im URL-Generator
        durch den Nutzer ausgewählt werden und wird im Video dargestellt. Zusätzlich wird ein Titel und der
        jeweilige Zeitstempel im Video gerendert. Als Berechnungsgrundlage dient ein OGC-API Prozess für Zonale
        Statistiken.</a>
    <h3>Beispiel:</h3>
    <a class="description">In diesem Beispiel wird die Region Langenfeld ausgewählt und folgende Geometrie
        eingezeichnet:</a><br />
    <pre><code>
        {
            "type":"Polygon",
            "coordinates":[
               [
                  [
                     6.950657348065678,
                     51.12537607624125
                  ],
                  [
                     6.948632176607076,
                     51.12459947140681
                  ],
                  [
                     6.949309174662032,
                     51.12346518922001
                  ],
                  [
                     6.951557071116357,
                     51.123927154781626
                  ],
                  [
                     6.950657348065678,
                     51.12537607624125
                  ]
               ]
            ]
         }
    </code></pre>
    <a class="description">Als Videoformat wird <i>mp4</i> definiert und der Titel <i>Friedhof Richrather Straße</i>
        gewählt.
        Aus diesen Parametern wird die folgende URL generiert:</a><br />
    <a href='https://klips-dev.terrestris.de/easy-to-use-api/timelapse-video/?region=langenfeld&area-of-interest=
    {"type":"Polygon","coordinates":[[[6.950657348065678,51.12537607624125],[6.948632176607076,51.12459947140681],
    [6.949309174662032,51.12346518922001],[6.951557071116357,51.123927154781626],[6.950657348065678,51.12537607624125]]]}
    &output=mp4&title=Friedhof Richrather Straße'>
        https://klips-dev.terrestris.de/easy-to-use-api/timelapse-video/?region=langenfeld&area-of-interest=
        {"type":"Polygon","coordinates":[[[6.950657348065678,51.12537607624125],[6.948632176607076,51.12459947140681],
        [6.949309174662032,51.12346518922001],[6.951557071116357,51.123927154781626],[6.950657348065678,51.12537607624125]]]}
        &output=mp4&title=Friedhof Richrather Straße
    </a><br />
    <a class="description">Auch diese URL kann wieder als Iframe in eine bestehende html-Website implementiert
        werden:</a><br />
    <iframe id="inlineFrameExample" title="URL-Generator" width="800px" height="500px" src='https://klips-dev.terrestris.de/easy-to-use-api/timelapse-video/?region=langenfeld&area-of-interest=
    {"type":"Polygon","coordinates":[[[6.950657348065678,51.12537607624125],[6.948632176607076,51.12459947140681],
    [6.949309174662032,51.12346518922001],[6.951557071116357,51.123927154781626],[6.950657348065678,51.12537607624125]]]}
    &output=mp4&title=Friedhof Richrather Straße'>
    </iframe><br />
    <a class="description">Dazu kann das folgende Code-Snipped als Beispiel genutzt werden:</a><br />
    <pre><code>&lt;iframe id=&quot;inlineFrameExample&quot; title=&quot;URL-Generator&quot; width=&quot;800px&quot; height=&quot;500px&quot;
        src='https://klips-dev.terrestris.de/easy-to-use-api/chart/?region=langenfeld&amp;area-of-interest={&quot;type&quot;:&quot;Polygon&quot;,&quot;coordinates&quot;:[[[6.948647677584572,51.124608644210355],[6.949293236115337,51.12345672040004],[6.951544270644354,51.12392876604696],[6.950662942911049,51.12536953225711],[6.948647677584572,51.124608644210355]]]}&amp;output=mp4&amp;title=Friedhof Richrather Stra&szlig;e'&gt;
    &lt;/iframe&gt;</code></pre>

    <h2>Warning</h2>
    <a class="description">Ein Widget, das eine Warnung zeigt, sobald bestimmte Temperatur-Grenzwerte
        über- oder unterschritten werden.
        Möglich sind die Werte: grün: keine Warnung, orange: hohe Temperaturen, rot: sehr hohe Temperaturen.
        Werte, die den grünen Grenzwert unterschreiten erhalten eine blaue Warnung für niedrige Temperaturen.
        Als Berechnungsgrundlage dient ein OGC-API Prozess für Zonale Statistiken (pygeoapi, siehe unten).
        Ausgewählt werden können ein Punkt oder ein Polygon, für das die Warnung angezeigt wird. Außerdem kann auch hier
        zwischen gefühlter Temeratur,
        physikalischer Temperatur, und Temperaturdifferenz zum Umland gewählt werden. Ebenso können alle Grenzwerte
        individuell
        festgelegt werden.</a><br />
    <h3>Beispiel:</h3>
    <a class="description">In diesem Beispiel wird die Region Dresden gewählt und eine Punkt-Geometrie mit den folgenden
        Koordinaten eingezeichnet:</a><br />
    <pre><code>
        {
          "type":"Point",
          "coordinates":[
            13.731467023031588,
            51.04039265124143
            ]
        }
        </code></pre><br />
    <a class="description">Anschließend kann zwischen verschiedenen Bändern ausgewählt werden:</a><br />
    <ol>
        <li>Physikalische Temperatur: Die physikalische Temperatur, errechnet aus gemessenen Temperatur-Werten der
            Sensoren.</li>
        <li> Gefühlte Temleratur: Die gefühlte Temperatur, errechnet durch einbeziehen zusätzlicher Parameter.</li>
        <li>Temperaturdifferenz: Differenz der gemessenen Temperaturen am ausgewählten Standort zu Referenzsensoren im
            Umland.</li>
    </ol>
    <a class="description">Zu letzt muss noch die Art der Anzeige definiert werden:</a><br />
    <ol>
        <li>Info-Tafel</li>
        <li>Ampel-Anzeige</li>
    </ol>
    <a class="description">Die Info-Tafel gibt eine detaillierte Auskunft über die Warnung aus, wohingegen die Ampelanzeige 
        die Warnung lediglich farblich differenziert</a><br />
    <a class="description">In diesem Beispiel wird die <i>Pysikalische Temperatur</i> betrachtet.</a><br />
    <a class="description">Für die grüne Warnung wird der Grenzwert <i>10</i>°C ausgewählt, für die orangene Warnung der
        Grenzwert <i>23</i>°C und für die rote Warnung der Grenzwert <i>28</i>°C. Als Anzeige Option wird die Info-Tafel ausgewählt. 
        Daraus ergibt sich die folgende URL:</a><br />
    <a href="https://klips-dev.terrestris.de/easy-to-use-api/chart/?region=dresden&geom=POINT(13.731467023031588 
        51.04039265124143)&thresholdgreen=10&thresholdorange=23&thresholdred=28&band=physical&format=info-board">
        https://klips-dev.terrestris.de/easy-to-use-api/chart/?region=dresden&geom=POINT(13.731467023031588
        51.04039265124143)&thresholdgreen=10&thresholdorange=23&thresholdred=28&band=physical&format=info-board</a><br />
    <a class="description">Auch diese URL kann wieder als Iframe in eine bestehende html-Website implementiert
        werden:</a><br />
    <iframe id="inlineFrameExample" title="URL-Generator" width="800px" height="500px" src='https://klips-dev.terrestris.de/easy-to-use-api/chart/?region=dresden&geom=POINT(13.731467023031588
        51.04039265124143)&thresholdgreen=10&thresholdorange=23&thresholdred=28&band=physical&format=info-board'>
    </iframe><br />
    <a class="description">Dazu kann das folgende Code-Snipped als Beispiel genutzt werden:</a><br />
    <pre><code>&lt;iframe id=&quot;inlineFrameExample&quot; title=&quot;URL-Generator&quot; width=&quot;800px&quot; height=&quot;500px&quot;
        src='https://klips-dev.terrestris.de/easy-to-use-api/chart/?region=dresden&amp;geom=POINT(13.731467023031588
        51.04039265124143)&amp;thresholdgreen=10&amp;thresholdorange=23&amp;thresholdred=28&amp;band=physical&amp;format=info-board'&gt;
    &lt;/iframe&gt;</code></pre>
    <a class="description">Wird die Ampel-Anzeige gewählt ergibt sich folgende URL:</a><br />
    <a href="https://klips-dev.terrestris.de/easy-to-use-api/chart/?region=dresden&geom=POINT(13.731467023031588 
        51.04039265124143)&thresholdgreen=10&thresholdorange=23&thresholdred=28&band=physical&format=traffic-light">
        https://klips-dev.terrestris.de/easy-to-use-api/chart/?region=dresden&geom=POINT(13.731467023031588
        51.04039265124143)&thresholdgreen=10&thresholdorange=23&thresholdred=28&band=physical&format=traffic-light</a><br />
    <a class="description">Auch diese URL kann wieder als Iframe in eine bestehende html-Website implementiert
        werden:</a><br />
    <iframe id="inlineFrameExample" title="URL-Generator" width="800px" height="500px" src='https://klips-dev.terrestris.de/easy-to-use-api/chart/?region=dresden&geom=POINT(13.731467023031588
        51.04039265124143)&thresholdgreen=10&thresholdorange=23&thresholdred=28&band=physical&format=traffic-light'>
    </iframe><br />
    <a class="description">Dazu kann das folgende Code-Snipped als Beispiel genutzt werden:</a><br />
    <pre><code>&lt;iframe id=&quot;inlineFrameExample&quot; title=&quot;URL-Generator&quot; width=&quot;800px&quot; height=&quot;500px&quot;
        src='https://klips-dev.terrestris.de/easy-to-use-api/chart/?region=dresden&amp;geom=POINT(13.731467023031588
        51.04039265124143)&amp;thresholdgreen=10&amp;thresholdorange=23&amp;thresholdred=28&amp;band=physical&amp;format=traffic-light'&gt;
    &lt;/iframe&gt;</code></pre>
    <!-- <span class="authors" title="Author">Fritz Höing</span>
    <span class="date" title="Date">October 2, 2023</span>
    <a href="https://www.terrestris.de" title="terrestris website"><img src="./img/terrestris.svg"
            alt="terrestris logo"></a> -->
    <h2>License</h2>
    <p>To be defined</p>
</body>
